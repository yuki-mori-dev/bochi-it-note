---
import BaseLayout from "../../layouts/BaseLayout.astro";
import products from "../../../data/products.json";
const title = 'カテゴリ一覧｜Bochi IT Note';
const description = 'SaaSカテゴリごとの製品一覧。開発・運用、ホスティングなど。';
const categories = Array.from(new Set(products.flatMap(p => p.category || []))).sort();
const categoryLabels = {
  devops: '開発・運用',
  hosting: 'ホスティング',
  serverless: 'サーバーレス',
  identity: 'ID基盤',
  communication: 'コミュニケーション', // Collaboration/Communicationをまとめて表示
  collaboration: 'コラボレーション',
  productivity: '業務生産性',
  docs: 'ドキュメント',
  'source control': 'ソース管理',
  sourcecontrol: 'ソース管理',
  source_control: 'ソース管理'
};
const labelOf = (c) => categoryLabels[String(c||'').toLowerCase()] || c;
---

<BaseLayout {title} {description}>
	<h1 class="text-2xl font-bold">カテゴリ一覧</h1>
	<ul class="mt-6 grid gap-3 sm:grid-cols-2">
		{categories.map(c => (
			<li class="rounded-md border p-4">
				<a class="font-semibold hover:underline" href={`/categories/${encodeURIComponent(c.toLowerCase())}`}>{labelOf(c)}</a>
			</li>
		))}
	</ul>
</BaseLayout>


